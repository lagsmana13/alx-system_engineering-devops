#!/usr/bin/env bash

# Bash script that displays the PID and process name of processes whose name contains the word "bash".

# Store the PID of the current script
script_pid=$$

# Use pgrep to find the PIDs and process names of processes with "bash" in their name
processes=$(pgrep -l bash)

# Loop through each line in the output of pgrep
while read -r line; do
  # Extract the PID and process name from each line
  pid=$(echo "$line" | awk '{print $1}')
  pname=$(echo "$line" | awk '{print $2}')

  # Exclude the current script's PID from the output
  if [[ $pid -ne $script_pid ]]; then
    echo "$pid $pname"
  fi
done <<< "$processes"
